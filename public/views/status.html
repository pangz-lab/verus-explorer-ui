<div data-ng-include src="'views/includes/connection.html'"></div>
<section>
  <div class="page-header">
    <h1 translate>Explorer Status</h1>
  </div>
  <div id="status" class="row" data-ng-controller="StatusController" data-ng-init="getBlockchainStatus()">

    <div class="col-xs-12 col-md-8">
      <h2 translate>Sync Status</h2>
      <!-- <table class="table" data-ng-controller="StatusController" data-ng-init="getSync()"> -->
      <!-- <table class="table" data-ng-controller="StatusController" data-ng-init="getBlockchainStatus()"> -->
      <table class="table">
        <tbody>
          <tr>
            <td translate>Sync Progress</td>
            <td>
              <div class="progress">
                <!-- <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: {{ sync.syncPercentage}}%"> -->
                  <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:{{sync.syncPercentage}}%">
                  <span data-ng-show="sync.syncPercentage>0">{{sync.syncPercentage}}%
                    <span translate>Complete</span>
                  </span>
                </div>
              </div>
            </td>
          </tr>
          <tr>
            <td translate>Current Sync Status</td>
            <td class="text-right"> 
            <span  data-ng-show="!sync.error">{{sync.message}}</span>
            <span class="text-danger" data-ng-show="sync.error">
              <span  class="glyphicon glyphicon-warning-sign"></span>
              {{sync.error}}
            </span>
          </td>
          </tr>
        </tbody>
      </table>

      <h2 translate>Last Block</h2>
      <!-- <table class="table" style="table-layout: fixed" data-ng-controller="StatusController" data-ng-init="getStatus('LastBlockHash')"> -->
      <!-- <table class="table" style="table-layout: fixed" data-ng-controller="StatusController"> -->
      <table class="table" style="table-layout: fixed">
        <thead data-ng-include src="'views/includes/infoStatus.html'"></thead>
        <tbody>
          <tr>
            <td translate>Last Block Hash (Verus Daemon)</td>
            <td class="text-right ellipsis"><a href="block/{{sync.blockHash}}">{{sync.blockHash}}</a></td>
          </tr>
          <tr>
            <td translate>Current Blockchain Tip (Insight)</td>
            <td class="text-right ellipsis"><a href="block/{{sync.longestChainBlockHash}}">{{sync.longestChainBlockHash}}</a></td>
          </tr>
        </tbody>
      </table>

    </div> <!-- END OF COL-8 -->

    <div class="col-xs-12 col-md-4 col-gray">
      <h2 translate>Verus Blockchain Information</h2>
      <!-- <table class="table" data-ng-controller="StatusController" data-ng-init="getStatus('Info');getStatus('MiningInfo');getStatus('coinSupply')"> -->
      <!-- <table class="table" data-ng-controller="StatusController" data-ng-init="getBlockchainStatus()"> -->
      <table class="table">
        <thead  data-ng-include src="'views/includes/infoStatus.html'"></thead>
        <tbody>
          <tr>
            <td translate>VRSC Version</td>
            <td class="text-right" >
              {{ info.VRSCversion}}
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
          <tr>
            <td translate>Version</td>
            <td class="text-right" >
              {{info.version}}
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
          <tr>
            <td translate>Protocol Version</td>
            <td class="text-right">
              {{info.protocolVersion}}
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
          <tr>
            <td translate>Blocks</td>
            <td class="text-right">
              <a href="block/{{info.blocks}}">{{info.blocks}}</a>
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
          <tr>
            <td translate>Circulating Supply Transparent</td>
            <td class="text-right">
              {{shortenValue(info.circulatingSupply)}} VRSC
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
          <tr>
            <td translate>Circulating Supply in Z addresses</td>
            <td class="text-right">
              {{shortenValue(info.circulatingZSupply)}} VRSC
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
          <tr>
            <td translate>Circulating Supply Total</td>
            <td class="text-right">
              {{shortenValue(info.circulatingSupplyTotal)}} VRSC
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
          <tr>
            <td translate>Network Hashrate</td>
            <td class="text-right">
              {{convertValue(info.networkHashrate, 'H/s')}}
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
          <tr>
           <td translate>Mining Difficulty</td>
            <td class="text-right">
              {{convertValue(info.difficulty, '')}}
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
          <tr>
            <td translate>Node Connections</td>
            <td class="text-right">
              {{info.connections}}
              <span class="loader-gif" data-ng-if="!loaded"></span>
            </td>
          </tr>
        </tbody>
      </table>
    </div> <!-- END OF COL-GRAY -->
  </div>
</section>

